/* ===== Google Fonts elegantes ===== */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600;700&family=Great+Vibes&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Fuentes locales ===== */
@font-face {
  font-family: 'Sprite Graffiti';
  src: url('./assets/fonts/SpriteGraffiti-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Klemer Display';
  src: url('./assets/fonts/KlemerDisplayDemoRegular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ===== Variables / tema ===== */
:root {
  --primary-gold: #d4af37;
  --primary-rose: #8b0000;  /* tu bordó original */
  --primary-purple: #50010c;
  --dark-bg: #0a0a0a;
  --light-bg: #f8f9fa;

  /* Scroll */
  --scroll-y: 0;   /* 0..100 (compat) */
  --scroll: 0;     /* 0..1   */

  /* Revelación al final (umbral y pendiente) */
  --reveal-start: 0.85;     /* empieza a abrirse al 85% del scroll */
  --reveal-slope: 6.6667;   /* 1 / (1 - 0.85) */
}

/* ===== Reset ===== */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  overflow-x: hidden;
  background-color: #000;
  color: #fff;
  min-height: 100vh;
}

/* ===== Imagen estática al fondo (sin pérdida de calidad) ===== */
.bg-bottom-layer{
  position: fixed; inset: 0;
  z-index: -3;            /* por debajo de todo */
  pointer-events: none;
}
.bg-bottom-img{
  position: absolute; inset: 0;
  width: 100vw; height: 100vh;
  object-fit: cover;           /* llena sin deformar */
  object-position: center bottom; /* anclada ABAJO */
  image-rendering: auto;       /* nítida, sin blur */
  /* La imagen NO se mueve (sin transform, sin background-attachment) */
}

/* ===== Overlay bordó ORIGINAL arriba (se abre SOLO al final) ===== */
/* Opacidad pieza-lineal: 0..0.85 = casi opaco; 0.85..1 cae rápido a 0 */
body::before {
  content: '';
  position: fixed; inset: 0;
  background: linear-gradient(160deg, #000000 20%, #3a0000 60%, #660000 100%);
  background-size: 100% 300%;
  background-position-y: calc(var(--scroll-y) * 1%);
  z-index: -1;
  transition: background-position-y 0.3s ease-out, opacity .15s linear;

  /* Fórmula:  op = clamp(0, 0.95 - (max(scroll - 0.85, 0) * 6.6667), 0.95)
     Con clamp simulamos que hasta 85% queda ~0.95 opaco, y de ahí baja a 0. */
  opacity: clamp(
    0,
    calc(0.95 - (max(0, (var(--scroll) - var(--reveal-start))) * var(--reveal-slope))),
    0.95
  );
}

/* ===== Tipografías y utilidades (tu estilo original) ===== */
.playfair { font-family: 'Playfair Display', Georgia, 'Times New Roman', serif; letter-spacing: .01em; }
.dancing-script { font-family: 'Great Vibes', cursive; }
.font-horizon, .font-sprite { font-family: 'Sprite Graffiti', system-ui, sans-serif; letter-spacing: .02em; }
.font-klemer { font-family: 'Klemer Display', Georgia, serif; }
.font-poppins { font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
.font-greatvibes { font-family: 'Great Vibes', cursive; }

.floating-particles { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
.particle {
  position: absolute; border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,.4) 0%, rgba(255,255,255,.1) 70%, transparent 100%);
  animation: float 6s ease-in-out infinite;
}
.particle:nth-child(odd){
  animation-delay:-2s;
  background: radial-gradient(circle, rgba(139,0,0,.3) 0%, rgba(139,0,0,.05) 70%, transparent 100%);
}
.particle:nth-child(3n){
  animation-delay:-4s;
  background: radial-gradient(circle, rgba(255,255,255,.5) 0%, rgba(255,255,255,.1) 70%, transparent 100%);
}
@keyframes float { 0%,100%{transform:translateY(0) rotate(0);opacity:.7} 50%{transform:translateY(-20px) rotate(180deg);opacity:1} }

.gradient-text{
  background: linear-gradient(135deg, #ffffff, #8b0000, #ffffff);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.glass-effect{ background:rgba(0,0,0,.2); backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,.1); }
.btn-glow{ box-shadow:0 0 20px rgba(139,0,0,.5); transition:all .3s ease; }
.btn-glow:hover{ box-shadow:0 0 30px rgba(139,0,0,.8); transform: translateY(-2px); }
.sparkle{ position:relative; overflow:hidden; }
.sparkle::before{
  content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
  background:linear-gradient(45deg, transparent, rgba(255,255,255,.25), transparent);
  animation:sparkle 3s linear infinite;
}
@keyframes sparkle{ 0%{transform:translate(-100%,-100%) rotate(45deg)} 100%{transform:translate(100%,100%) rotate(45deg)} }
.disco-ball{
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.8) 2px, transparent 2px),
    radial-gradient(circle at 70% 30%, rgba(255,255,255,.6) 1px, transparent 1px),
    radial-gradient(circle at 30% 70%, rgba(255,255,255,.7) 1.5px, transparent 1.5px),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,.5) 1px, transparent 1px),
    linear-gradient(135deg, #c0c0c0, #808080);
  background-size: 20px 20px, 15px 15px, 18px 18px, 12px 12px, 100% 100%;
  animation: rotate 4s linear infinite;
}
@keyframes rotate{from{transform:rotate(0)} to{transform:rotate(360deg)}}
.countdown-glow{ text-shadow: 0 0 20px rgba(139,0,0,.8); }
.section-divider{
  height:2px;
  background:linear-gradient(90deg, transparent, var(--primary-gold), #ffffff, var(--primary-gold), transparent);
  margin:4rem 0;
}
